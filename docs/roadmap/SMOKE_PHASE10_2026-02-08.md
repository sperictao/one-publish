# Phase 10 Smoke Checklist (2026-02-08)

目标：验证 TASK-1001/TASK-1002/TASK-1003/TASK-1004（时间窗口筛选、Issue 草稿、历史导出、筛选预设）关键链路可用。

## 自动化验证

- `pnpm -s typecheck`：通过
- `pnpm -s test`：通过（`11` 个测试文件，`37` 个用例）
  - 新增：`src/lib/__tests__/issueDraft.test.ts`
  - 新增：`src/lib/__tests__/historyFilterPresets.test.ts`
- `pnpm -s e2e`：通过（renderer smoke）
- `cd src-tauri && cargo test -q`：通过（`82` 个测试）

## 关键手工验收路径

### A. 时间窗口筛选（TASK-1001）

1. 在历史筛选条切换 `24h/7d/30d`。
2. 验证时间窗口与 provider/status/关键词可组合生效。
3. 验证失败分组区域与筛选结果一致（同一过滤范围）。

### B. Issue 草稿（TASK-1002）

1. 进入“失败组详情”，点击 `复制 Issue 草稿`。
2. 验证草稿包含：provider/signature/frequency/代表命令/最近记录/快照引用。
3. 将草稿粘贴到 Markdown 编辑器，确认结构可直接复用。

### C. 历史导出（TASK-1003）

1. 在筛选后点击 `导出历史`，分别导出 CSV/JSON。
2. 验证仅导出当前筛选结果，并保持最新优先顺序。
3. 验证 CSV 包含关键列：provider/status/finishedAt/signature/commandLine/error/snapshotPath。

### D. 筛选预设（TASK-1004）

1. 设置筛选条件后点击 `保存为预设`，输入名称。
2. 从预设下拉切换，验证筛选条件自动恢复。
3. 重启应用后确认预设仍存在，并可删除预设。

## 结论

- Phase 10 四个任务已在功能实现、自动化验证与手工验收路径层面闭环。
- 下一阶段可继续推进协作集成能力（例如 issue tracker API、报表自动化与预设共享策略）。
